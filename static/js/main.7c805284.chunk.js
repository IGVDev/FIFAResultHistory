(this.webpackJsonpfifaresults=this.webpackJsonpfifaresults||[]).push([[0],{133:function(e,t,n){},140:function(e,t){},142:function(e,t){},153:function(e,t){},155:function(e,t){},180:function(e,t){},182:function(e,t){},183:function(e,t){},189:function(e,t){},191:function(e,t){},209:function(e,t){},212:function(e,t){},228:function(e,t){},231:function(e,t){},254:function(e,t,n){},256:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(38),r=n.n(i),c=(n(133),n(10)),s=n.n(c),l=n(21),u=n(16),m=n(15),h=n(40),p=n(58),d=n.n(p),f=n(39),g=n(118),b=n(119),w=n(127),v=n(126),E=function(e){return e.hscore>e.ascore?e.hteam:e.ascore>e.hscore?e.ateam:"tie"},y=function(e){Object(w.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://peaceful-wildwood-69585.herokuapp.com/loadusers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({database:"matches"})}).then((function(e){return e.json()})).then((function(e){Array.isArray(e)&&a.setState({users:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),a.onDatabaseChange=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://peaceful-wildwood-69585.herokuapp.com/loadusers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({database:t.target.value})}).then((function(e){return e.json()})).then((function(e){Array.isArray(e)&&a.setState({users:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onOptionChange=function(e){"database"===e.target.id&&a.onDatabaseChange(e),a.setState(Object(f.a)({},e.target.id,e.target.value)),a.setState({needConfirm:!1})},a.onSubmitResult=function(){var e=a.state,t=e.hteam,n=e.ateam,o=e.team1,i=e.team2,r=e.hscore,c=e.ascore,s=e.winner;t&&n&&o&&i&&s?(fetch("https://peaceful-wildwood-69585.herokuapp.com/matchload",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({hteam:t,ateam:n,team1:o,team2:i,hscore:r,ascore:c,winner:s})}).catch((function(e){return console.log("oops")})),a.setState={hteam:"",ateam:"",team1:"",team2:"",hscore:0,ascore:0,winner:"",needConfirm:!1},alert("Match loaded to database")):alert("Missing data")},a.onScoreVerification=function(){a.setState({winner:E(a.state)}),a.setState({needConfirm:!0})},a.state={database:"",leagueOptions:["matches","MMP-Dobles","MMP-Futboltenis"],users:[],hteam:"",ateam:"",team1:"",team2:"",hscore:0,ascore:0,winner:"",needConfirm:!1},a}return Object(b.a)(n,[{key:"render",value:function(){return o.a.createElement("article",{className:"br3 white pa3 ma2 bw1 ba shadow-5 dt dt--fixed w-auto fl center"},o.a.createElement("h1",null,"Load Match"),o.a.createElement("select",{id:"database",onChange:this.onOptionChange},this.state.leagueOptions.map((function(e){return o.a.createElement("option",{key:e,value:e},e)}))),o.a.createElement("main",{className:"b flex pa2"},o.a.createElement("div",null,o.a.createElement("p",null,"Player Name"),o.a.createElement("input",{type:"text",id:"ateam",onChange:this.onOptionChange}),o.a.createElement("select",{type:"text",id:"hteam",onChange:this.onOptionChange},this.state.users.map((function(e){return o.a.createElement("option",{key:e,value:e},e)}))),o.a.createElement("p",null,"Team"),o.a.createElement("input",{type:"text",id:"team1",onChange:this.onOptionChange}),o.a.createElement("p",null,"Score"),o.a.createElement("input",{type:"number",id:"hscore",onChange:this.onOptionChange})),o.a.createElement("h2",{className:"pa3"},"VS"),o.a.createElement("div",null,o.a.createElement("p",null,"Player Name"),o.a.createElement("input",{type:"text",id:"ateam",onChange:this.onOptionChange}),o.a.createElement("select",{type:"text",id:"hteam",onChange:this.onOptionChange},this.state.users.map((function(e){return o.a.createElement("option",{key:e,value:e},e)}))),o.a.createElement("p",null,"Team"),o.a.createElement("input",{type:"text",id:"team2",onChange:this.onOptionChange}),o.a.createElement("p",null,"Score"),o.a.createElement("input",{type:"number",id:"ascore",onChange:this.onOptionChange}))),o.a.createElement("h2",null,"Winner: ",this.state.winner),this.state.needConfirm?o.a.createElement("input",{className:"b br3 ph3 pv2 input-reset ba b--white white bg-green grow pointer f6 dib",type:"submit",value:"Confirm",onClick:this.onSubmitResult}):o.a.createElement("input",{className:"b br3 ph3 pv2 input-reset ba b--white white bg-transparent grow pointer f6 dib",type:"submit",value:"Submit",onClick:this.onScoreVerification}))}}]),n}(o.a.Component),O=y,C=function(e){var t,n=e.isAdmin,a=e.setIsOpen,i=e.onRouteChange,r=e.isSignedIn,c=e.loginWithPopup,s=e.logout,l=e.user;return t=n?o.a.createElement("p",{onClick:function(){return i("load")},className:"f3 link dim white underline pa3 pointer"},"Load Match"):r?o.a.createElement("p",{onClick:a,className:"f3 link dim white underline pa3"},"Admin"):o.a.createElement("p",{onClick:function(){return c()},className:"f3 link dim white underline pa3 pointer"},"Sign In"),o.a.createElement("nav",{style:{display:"flex",justifyContent:"flex-end"}},o.a.createElement("p",{className:"f3 white pa3 absolute left-0"},"Hello ",l.name),o.a.createElement("p",{onClick:function(){return i("home")},className:"f3 link dim white underline pa3 pointer"},"Home"),t,o.a.createElement("p",{onClick:function(){return s({returnTo:window.location.origin})},className:"f3 link dim white underline pa3 pointer"},"Sign Out"))},S=n(120),k=n.n(S),j=n(124),N=n.n(j),x=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],i=t[1];Object(a.useEffect)((function(){N.a.get("https://peaceful-wildwood-69585.herokuapp.com/standings").then((function(e){return i(e)}))}),[]);return o.a.createElement(k.a,{title:"Standings",columns:[{name:"Name",selector:"name",sortable:!0},{name:"Points",selector:"points",sortable:!0,right:!0},{name:"P",selector:"gamesPlayed",sortable:!0,right:!0},{name:"W",selector:"gamesWon",sortable:!0,right:!0},{name:"D",selector:"gamesTied",sortable:!0,right:!0},{name:"L",selector:"gamesLost",sortable:!0,right:!0},{name:"%",selector:"winpercent",sortable:!0,right:!0},{name:"GF",selector:"goalsFor",sortable:!0,right:!0},{name:"GA",selector:"goalsAgainst",sortable:!0,right:!0},{name:"GD",selector:"goalDif",sortable:!0,right:!0}],data:n.data,theme:"dark"})},A=n(125),P=(n(253),n(254),n(255),d.a.genSaltSync(10)),T={matches:[],route:"home",isSignedIn:!0,user:{name:"Guest",email:""}},W=function(){var e=Object(h.b)(),t=e.loginWithPopup,n=e.logout,i=e.isAuthenticated,r=e.user,c=Object(a.useState)(T),p=Object(m.a)(c,2),f=p[0],g=p[1],b=Object(a.useState)(!1),w=Object(m.a)(b,2),v=w[0],E=w[1],y=Object(a.useState)(""),S=Object(m.a)(y,2),k=S[0],j=S[1],N=Object(a.useState)(!0),W=Object(m.a)(N,2),I=W[0],M=W[1],F=function(e){e&&g(Object(u.a)(Object(u.a)({},f),{},{isSignedIn:i,user:{name:e.given_name,email:e.email}}))};Object(a.useEffect)((function(){F(r)}),[r]);var R,D=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.a.hashSync(k,P),e.next=3,fetch("https://peaceful-wildwood-69585.herokuapp.com/admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:f.user.email,password:t})}).then((function(e){200===e.status&&M(!0),console.log(I),E(!1)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();switch(f.route){case"home":R=o.a.createElement(x,null);break;case"load":R=o.a.createElement(O,null)}return o.a.createElement("div",{className:"App white"},o.a.createElement(C,{isSignedIn:f.isSignedIn,isAdmin:I,setIsOpen:E,onRouteChange:function(e){"signout"===e?g(T):"home"===e&&g(Object(u.a)(Object(u.a)({},f),{},{isSignedIn:!0})),g(Object(u.a)(Object(u.a)({},f),{},{route:e}))},loginWithPopup:t,logout:n,loadUser:F,user:f.user}),o.a.createElement("div",{className:"flex"},o.a.createElement(A.a,{open:v,onClose:function(){return E(!1)},center:!0},o.a.createElement("h2",null,"Password:"),o.a.createElement("input",{type:"password",onChange:function(e){return j(e.target.value)}}),o.a.createElement("button",{onClick:D},"Login")),R))},I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(o.a.createElement(h.a,{clientId:"6olnEN1eSbfsiKTF9iMFEeUJMDLY8Mtt",domain:"dev-bowof--q.us.auth0.com",redirectUri:window.location.origin},o.a.createElement(o.a.StrictMode,null,o.a.createElement(W,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/FIFAResultHistory",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/FIFAResultHistory","/service-worker.js");I?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):M(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):M(t,e)}))}}()}},[[256,1,2]]]);
//# sourceMappingURL=main.7c805284.chunk.js.map