(this.webpackJsonpfifaresults=this.webpackJsonpfifaresults||[]).push([[0],{128:function(e,t,n){},135:function(e,t){},137:function(e,t){},148:function(e,t){},150:function(e,t){},175:function(e,t){},177:function(e,t){},178:function(e,t){},184:function(e,t){},186:function(e,t){},204:function(e,t){},207:function(e,t){},223:function(e,t){},226:function(e,t){},270:function(e,t,n){},272:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(39),r=n.n(i),c=(n(128),n(15)),s=n.n(c),l=n(31),u=n(33),m=n(11),h=n(41),p=n(60),d=n.n(p),f=n(40),g=n(113),b=n(114),w=n(121),v=n(120),E=function(e){return e.hscore>e.ascore?e.hteam:e.ascore>e.hscore?e.ateam:"tie"},y=function(e){Object(w.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://peaceful-wildwood-69585.herokuapp.com/loadusers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({database:"matches"})}).then((function(e){return e.json()})).then((function(e){Array.isArray(e)&&a.setState({users:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),a.onDatabaseChange=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://peaceful-wildwood-69585.herokuapp.com/loadusers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({database:t.target.value})}).then((function(e){return e.json()})).then((function(e){Array.isArray(e)&&a.setState({users:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onOptionChange=function(e){"database"===e.target.id&&a.onDatabaseChange(e),a.setState(Object(f.a)({},e.target.id,e.target.value)),a.setState({needConfirm:!1})},a.onSubmitResult=function(){var e=a.state,t=e.hteam,n=e.ateam,o=e.team1,i=e.team2,r=e.hscore,c=e.ascore,s=e.winner,l=e.database;t&&n&&o&&i&&s?(fetch("https://peaceful-wildwood-69585.herokuapp.com/matchload",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({hteam:t,ateam:n,team1:o,team2:i,hscore:r,ascore:c,winner:s,database:l})}).catch((function(e){return console.log("oops")})),a.setState={hteam:"",ateam:"",team1:"",team2:"",hscore:0,ascore:0,winner:"",needConfirm:!1},alert("Match loaded to database")):alert("Missing data")},a.onScoreVerification=function(){a.setState({winner:E(a.state)}),a.setState({needConfirm:!0})},a.state={database:"",leagueOptions:["matches","mmpdobles","mmpfutboltenis","mmp2021"],users:[],hteam:"",ateam:"",team1:"",team2:"",hscore:0,ascore:0,winner:"",needConfirm:!1},a}return Object(b.a)(n,[{key:"render",value:function(){return o.a.createElement("article",{className:"br3 white pa3 ma2 bw1 ba shadow-5 dt dt--fixed w-auto fl center"},o.a.createElement("h1",null,"Load Match"),o.a.createElement("select",{id:"database",onChange:this.onOptionChange},this.state.leagueOptions.map((function(e){return o.a.createElement("option",{key:e,value:e},e)}))),o.a.createElement("main",{className:"b flex pa2"},o.a.createElement("div",null,o.a.createElement("p",null,"Player Name"),o.a.createElement("input",{type:"text",id:"hteam",onChange:this.onOptionChange}),o.a.createElement("select",{type:"text",id:"hteam",onChange:this.onOptionChange},this.state.users.map((function(e){return o.a.createElement("option",{key:e,value:e},e)})),o.a.createElement("option",{key:"1",value:"null",defaultValue:!0}," ")),o.a.createElement("p",null,"Team"),o.a.createElement("input",{type:"text",id:"team1",onChange:this.onOptionChange}),o.a.createElement("p",null,"Score"),o.a.createElement("input",{type:"number",id:"hscore",onChange:this.onOptionChange})),o.a.createElement("h2",{className:"pa3"},"VS"),o.a.createElement("div",null,o.a.createElement("p",null,"Player Name"),o.a.createElement("input",{type:"text",id:"ateam",onChange:this.onOptionChange}),o.a.createElement("select",{type:"text",id:"ateam",onChange:this.onOptionChange},this.state.users.map((function(e){return o.a.createElement("option",{key:e,value:e},e)})),o.a.createElement("option",{key:"1",value:"null",defaultValue:!0}," ")),o.a.createElement("p",null,"Team"),o.a.createElement("input",{type:"text",id:"team2",onChange:this.onOptionChange}),o.a.createElement("p",null,"Score"),o.a.createElement("input",{type:"number",id:"ascore",onChange:this.onOptionChange}))),o.a.createElement("h2",null,"Winner: ",this.state.winner),this.state.needConfirm?o.a.createElement("input",{className:"b br3 ph3 pv2 input-reset ba b--white white bg-green grow pointer f6 dib",type:"submit",value:"Confirm",onClick:this.onSubmitResult}):o.a.createElement("input",{className:"b br3 ph3 pv2 input-reset ba b--white white bg-transparent grow pointer f6 dib",type:"submit",value:"Submit",onClick:this.onScoreVerification}))}}]),n}(o.a.Component),O=y,C=function(e){var t,n=e.isAdmin,a=e.setIsOpen,i=e.onRouteChange,r=e.isSignedIn,c=e.loginWithPopup,s=e.logout,l=e.user;return t=n?o.a.createElement("p",{onClick:function(){return i("load")},className:"f3 link dim white underline pa3 pointer"},"Load Match"):r?o.a.createElement("p",{onClick:a,className:"f3 link dim white underline pa3"},"Admin"):o.a.createElement("p",{onClick:function(){return c()},className:"f3 link dim white underline pa3 pointer"},"Sign In"),o.a.createElement("nav",{style:{display:"flex",justifyContent:"flex-end"}},o.a.createElement("p",{className:"f3 white pa3 absolute left-0"},"Hello ",l.name),o.a.createElement("p",{onClick:function(){return i("home")},className:"f3 link dim white underline pa3 pointer"},"Home"),t,r?o.a.createElement("p",{onClick:function(){return s({returnTo:"https://igvdev.github.io/FIFAResultHistory/"})},className:"f3 link dim white underline pa3 pointer"},"Sign Out"):null)},S=n(115),j=n.n(S),k=n(43),N=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!1),c=Object(m.a)(r,2),s=c[0],l=c[1],u=Object(a.useState)(""),h=Object(m.a)(u,2),p=h[0],d=h[1];Object(a.useEffect)((function(){l(!0),fetch("https://peaceful-wildwood-69585.herokuapp.com/standings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({database:p})}).then((function(e){return e.json()})).then((function(e){i(e),l(!1)})).catch((function(e){return console.log(e)}))}),[p]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{flex:1,height:window.innerHeight-200}},o.a.createElement("select",{id:"database",onChange:function(e){return d(e.target.value)}},o.a.createElement("option",{value:"",disabled:!0,selected:!0,hidden:!0},"Select Database"),["matches","mmpdobles","mmpfutboltenis","mmp2021"].map((function(e){return o.a.createElement("option",{key:e,value:e},e)}))),""===p?o.a.createElement("h1",null,"(\u2022_\u2022)"):o.a.createElement(j.a,{progressPending:s,progressComponent:o.a.createElement("div",{style:{padding:100}},o.a.createElement(k.WaveLoading,{size:"large"})),title:"Standings",columns:[{name:"Name",selector:"name",sortable:!0},{name:"Points",selector:"points",sortable:!0,right:!0},{name:"P",selector:"gamesPlayed",sortable:!0,right:!0},{name:"W",selector:"gamesWon",sortable:!0,right:!0},{name:"D",selector:"gamesTied",sortable:!0,right:!0},{name:"L",selector:"gamesLost",sortable:!0,right:!0},{name:"%",selector:"winpercent",sortable:!0,right:!0},{name:"GF",selector:"goalsFor",sortable:!0,right:!0},{name:"GA",selector:"goalsAgainst",sortable:!0,right:!0},{name:"GD",selector:"goalDif",sortable:!0,right:!0}],data:n,theme:"dark",responsive:!0})))},x=n(119),A=(n(269),n(270),n(271),d.a.genSaltSync(10)),P={matches:[],route:"home",isSignedIn:!1,user:{name:"Guest",email:""}},T=function(){var e=Object(h.b)(),t=e.loginWithPopup,n=e.logout,i=e.isAuthenticated,r=e.user,c=Object(a.useState)(!1),p=Object(m.a)(c,2),f=p[0],g=p[1],b=Object(a.useState)(P),w=Object(m.a)(b,2),v=w[0],E=w[1],y=Object(a.useState)(!1),S=Object(m.a)(y,2),j=S[0],T=S[1],W=Object(a.useState)(""),I=Object(m.a)(W,2),F=I[0],L=I[1],R=Object(a.useState)(!1),M=Object(m.a)(R,2),D=M[0],J=M[1],H=function(e){e&&E(Object(u.a)(Object(u.a)({},v),{},{isSignedIn:i,user:{name:e.given_name,email:e.email}}))};Object(a.useEffect)((function(){H(r)}),[r]);var U,V=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),t=d.a.hashSync(F,A),e.next=4,fetch("https://peaceful-wildwood-69585.herokuapp.com/admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:v.user.email,password:t})}).then((function(e){200===e.status&&(J(!0),T(!1)),g(!1)})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();switch(v.route){case"home":U=o.a.createElement(N,null);break;case"load":U=o.a.createElement(O,null)}return o.a.createElement("div",{className:"App white"},o.a.createElement(C,{isSignedIn:v.isSignedIn,isAdmin:D,setIsOpen:T,onRouteChange:function(e){E(Object(u.a)(Object(u.a)({},v),{},{route:e}))},loginWithPopup:t,logout:n,loadUser:H,user:v.user}),o.a.createElement("div",{className:"flex"},o.a.createElement(x.a,{open:j,onClose:function(){return T(!1)},center:!0},f?o.a.createElement("div",{style:{padding:100}},o.a.createElement(k.WaveLoading,{size:"large"})):o.a.createElement("div",null,o.a.createElement("h2",null,"Password:"),o.a.createElement("input",{type:"password",onChange:function(e){return L(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&V()}}),o.a.createElement("button",{onClick:V},"Login"))),U))},W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(o.a.createElement(h.a,{clientId:"6olnEN1eSbfsiKTF9iMFEeUJMDLY8Mtt",domain:"dev-bowof--q.us.auth0.com",redirectUri:window.location.origin},o.a.createElement(o.a.StrictMode,null,o.a.createElement(T,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/FIFAResultHistory",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/FIFAResultHistory","/service-worker.js");W?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):I(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):I(t,e)}))}}()}},[[272,1,2]]]);
//# sourceMappingURL=main.d323cf89.chunk.js.map